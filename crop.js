/**  @param {[x,y][]]} points*/function cropArea(points) {  _selectLasso();  _selectPoints(points);  _deleteArea();  }function _deleteArea() {  var idDlt = charIDToTypeID( "Dlt " );  executeAction( idDlt, undefined, DialogModes.NO );}function _selectLasso() {  // Выбираем полигональное лассо  // =======================================================  var select = new ActionDescriptor();  var ref30 = new ActionReference();  var idpolySelTool = stringIDToTypeID( "polySelTool" );  ref30.putClass( idpolySelTool );  select.putReference(    charIDToTypeID( "null" ),    ref30 );  var iddontRecord = stringIDToTypeID( "dontRecord" );  select.putBoolean( iddontRecord, true );  var idforceNotify = stringIDToTypeID( "forceNotify" );  select.putBoolean( idforceNotify, true );  executeAction(    charIDToTypeID( "slct" ),    select, DialogModes.NO );}function _selectPoints(points) {  var mainAction = new ActionDescriptor();  var ref31 = new ActionReference();  var idChnl = charIDToTypeID( "Chnl" );  var idfsel = charIDToTypeID( "fsel" );  ref31.putProperty( idChnl, idfsel );  mainAction.putReference( charIDToTypeID( "null" ), ref31 );  var pointsDescripts = new ActionDescriptor();  var pointsList = new ActionList();  var pointD;  var currentPoint;  for (var i = 0; i < points.length; i++) {    pointD = new ActionDescriptor();    currentPoint = points[i];    pointD.putUnitDouble(charIDToTypeID("Hrzn"), charIDToTypeID("#Pxl"), currentPoint[0]);    pointD.putUnitDouble(charIDToTypeID("Vrtc"), charIDToTypeID("#Pxl"), currentPoint[1]);    pointsList.putObject(charIDToTypeID("Pnt "), pointD);  }  pointsDescripts.putList(charIDToTypeID("Pts "), pointsList);  mainAction.putObject(charIDToTypeID( "T   " ), charIDToTypeID( "Plgn" ), pointsDescripts);  mainAction.putBoolean(charIDToTypeID( "AntA" ), true);  executeAction(charIDToTypeID( "setd" ), mainAction, DialogModes.NO);}